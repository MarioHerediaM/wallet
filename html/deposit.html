<!-- <!DOCTYPE html>
<html>
<head>
  <title>Wallet - Depositar</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <style>
    body { padding: 20px; }
    .container { max-width: 400px; margin: 0 auto; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Depositar</h2>
    <div id="mensaje" class="mt-2"></div>
    
    <form id="formDeposito">
      <div class="form-group">
        <label for="depositAmount">Monto a depositar:</label>
        <input type="number" class="form-control" id="depositAmount" placeholder="Ej: 5000" required>
      </div>
      <button type="submit" id="btnRealizarDeposito" class="btn btn-primary">Realizar depósito</button>
    </form>
    <br>
    <a href="menu.html" class="btn btn-secondary">Volver al Menú Principal</a>
  </div>

  <script>
    const form = document.getElementById("formDeposito");
    const inputMonto = document.getElementById("depositAmount");
    const mensajeDiv = document.getElementById("mensaje");

    form.addEventListener("submit", function(event) {
      event.preventDefault(); // Evita que la página se recargue

      //Obtener el monto ingresado convertido a número
      const montoADepositar = parseFloat(inputMonto.value);

      if (montoADepositar > 0) {
        //Traer el saldo actual del localStorage oempezamos en 60000
        let saldoActual = parseFloat(localStorage.getItem("saldo")) || 60000;

        //Sumar el nuevo monto
        let nuevoSaldo = saldoActual + montoADepositar;

        //Guardar el nuevo saldo en el localStorage
        localStorage.setItem("saldo", nuevoSaldo);


        // Antes de redirigir, guarda el movimiento
        let historial = JSON.parse(localStorage.getItem("historial")) || [];
        historial.push({
            tipo: "Depósito",
            detalle: "Depósito realizado",
            monto: montoADepositar,
            fecha: new Date().toLocaleString()
        });
        localStorage.setItem("historial", JSON.stringify(historial));

        // Mostrar éxito y redirigir
        mensajeDiv.innerHTML = `<div class="alert alert-success">Depósito exitoso. Nuevo saldo: $${nuevoSaldo}</div>`;
        
        setTimeout(() => {
          window.location.href = "menu.html";
        }, 2000);
      } else {
        alert("Por favor ingrese un monto válido.");
      }
    });
  </script>
</body>
</html> -->


<!DOCTYPE html>
<html>
<head>
  <title>Wallet - Depositar</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <style>
    body { padding: 20px; }
    .container { max-width: 400px; margin: 0 auto; }
    .saldo-info { background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 20px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Depositar Dinero</h2>
    
    <div id="alert-container"></div>

    <div class="saldo-info">
        <span>Saldo actual: </span>
        <strong id="displaySaldoActual">$0</strong>
    </div>

    <form id="formDeposito">
      <div class="form-group">
        <label for="depositAmount">Monto a depositar:</label>
        <input type="number" class="form-control" id="depositAmount" placeholder="Ej: 5000" required>
      </div>
      <button type="submit" class="btn btn-success btn-block">Realizar depósito</button>
    </form>

    <div id="mensaje-monto" class="mt-3 text-center" style="display:none;"></div>

    <br>
    <a href="menu.html" class="btn btn-secondary btn-block">Cancelar y Volver</a>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/js/script.js"></script>
</body>
</html>